<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡πà‡∏ô‡∏¢‡∏≤‡πÄ‡∏î‡πá‡∏Å</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-messaging.js"></script>
</head>
<body>

    <div class="theme-switcher">
        <div class="theme-btn t-luxury" onclick="setTheme('theme-luxury')" title="Luxury Suite"></div>
        <div class="theme-btn t-ocean" onclick="setTheme('theme-ocean')" title="Ocean Breeze"></div>
        <div class="theme-btn t-urban" onclick="setTheme('theme-urban')" title="Urban Loft"></div>
    </div>

    <div id="view-register" class="container">
        <h2>üìù ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÉ‡∏´‡∏°‡πà</h2>
        <form id="form-register">
            <input type="text" id="reg-parent" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• ‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á" required>
            <input type="tel" id="reg-phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" required>
            <input type="text" id="reg-patient" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• ‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ" required>
            <input type="text" id="reg-hn" placeholder="HN ‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ (‡∏£‡∏´‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß)" required>
            
            <label>‡∏¢‡∏≤‡∏û‡πà‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß:</label>
            <select id="reg-med" onchange="updateMedImage()" required>
                <option value="Ventolin">Ventolin (‡πÄ‡∏ß‡∏ô‡πÇ‡∏ó‡∏•‡∏¥‡∏ô)</option>
                <option value="Pulmicort">Pulmicort (‡∏û‡∏±‡∏•‡∏°‡∏¥‡∏Ñ‡∏≠‡∏£‡πå‡∏ï)</option>
                <option value="Seretide">Seretide (‡πÄ‡∏ã‡πÄ‡∏£‡πÑ‡∏ó‡∏î‡πå)</option>
            </select>
            <div class="med-preview">
                <img id="med-img-preview" src="https://via.placeholder.com/150?text=Select+Med" alt="Medication">
            </div>
            <textarea id="reg-note" placeholder="Note ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡πÅ‡∏û‡πâ‡∏¢‡∏≤/‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß)"></textarea>
            <button type="submit" class="btn-primary">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô & ‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</button>
        </form>
        <div class="footer-link">
            ‡πÄ‡∏Ñ‡∏¢‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß? <a href="#" onclick="showLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a> | 
            <a href="#" onclick="showAdminLogin()" style="color: var(--secondary-color);">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</a>
        </div>
    </div>

    <div id="view-login" class="container hidden">
        <h2>üîë ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö (‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ)</h2>
        <input type="text" id="login-hn" placeholder="‡∏Å‡∏£‡∏≠‡∏Å HN ‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ">
        <button onclick="login()" class="btn-primary">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
        <button onclick="showRegister()" class="btn-secondary">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</button>
    </div>

    <div id="view-admin-login" class="container hidden">
        <h2 style="text-align:center;">üõ°Ô∏è Admin Access</h2>
        <p style="text-align:center; color: var(--text-light);">‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
        <input type="text" id="admin-user" placeholder="Username">
        <input type="password" id="admin-pass" placeholder="Password">
        <button onclick="submitAdminLogin()" class="btn-primary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        <button onclick="showRegister()" class="btn-secondary">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
    </div>

    <div id="view-dashboard" class="container hidden">
        <div class="header-card">
            <h3>‡∏ô‡πâ‡∏≠‡∏á <span id="display-name">...</span></h3>
            <p>HN: <span id="display-hn">...</span></p>
        </div>
        <div class="med-card">
            <img id="display-med-img" src="" alt="Medicine">
            <div>
                <h4>‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ:</h4>
                <p id="display-med-name" class="med-name">...</p>
            </div>
        </div>
        <div class="action-card">
            <h3>üïë ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏û‡πà‡∏ô‡∏¢‡∏≤</h3>
            <p>‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span id="current-time">--:--</span></p>
            <input type="text" id="log-symptom" placeholder="‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ‡∏£‡∏∞‡∏ö‡∏∏...)">
            <button onclick="submitLog()" class="btn-success">‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏û‡πà‡∏ô‡∏¢‡∏≤‡πÅ‡∏•‡πâ‡∏ß</button>
        </div>
        <div class="history-section">
            <h4>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏û‡πà‡∏ô‡∏¢‡∏≤‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h4>
            <ul id="history-list"><li>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</li></ul>
        </div>
        <button onclick="logout()" class="btn-secondary" style="margin-top:20px;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>

    <div id="view-admin-dashboard" class="container hidden" style="max-width: 800px;"> <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2>üë®‚Äç‚öïÔ∏è ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
            <button onclick="logout()" class="btn-secondary" style="width:auto; padding: 5px 15px; margin:0;">Exit</button>
        </div>
        
        <div class="admin-stats">
            <div class="stat-box">‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î <b id="stat-total">0</b></div>
            <div class="stat-box alert">‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° <b id="stat-alert">0</b></div>
        </div>

        <button onclick="loadAdminData()" class="btn-primary" style="margin-bottom:15px;">üîÑ Refresh ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
        
        <div id="admin-list" class="admin-grid">
            <p class="text-center">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
